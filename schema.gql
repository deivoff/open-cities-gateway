# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type AuthRedirect {
  url: String!
}

type AuthResponse {
  token: String!
}

type City {
  _id: ID!
  name: String!
  url: String!
  photo: String!
  center: GeometryCoords!
  zoom: Int!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type Geo {
  _id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  author: User!
  layer: Layer!
  access: UserType!
  geometry: Geometry!
  properties: JSON!
}

input GeoInput {
  geometry: GeometryInput!
  properties: JSON!
  layer: ID!
}

input GeoInputExtended {
  geometry: GeometryInput!
  properties: JSON!
  layer: ID!
  author: ID!
  access: UserType!
}

type Geometry {
  type: GeometryType!
  coordinates: GeometryCoords!
}

"""Coordinates scalar type"""
scalar GeometryCoords

input GeometryInput {
  type: GeometryType!
  coordinates: GeometryCoords!
}

enum GeometryType {
  Point
  MultiPoint
  LineString
  MultiLineString
  Polygon
  MultiPolygon
}

type GoogleProvider {
  id: String!
  token: String!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type Layer {
  _id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  name: String!
  description: String!
  owner: User!
  access: UserType!
  city: String!
  subscribers: [User!]!
  properties: [JSON!]!
}

input LayerInput {
  name: String!
  description: String!
  city: String!
  properties: [JSON!]!
}

type Mutation {
  createLayer(layerInput: LayerInput!): Layer!
  createGeo(geoInput: GeoInput!): Geo!
  createGeos(geoInput: [GeoInputExtended!]!): [Geo!]!
  authGoogle(code: String!): AuthResponse!
}

type Query {
  getUsers: [User!]!
  layers(city: String!): [Layer!]!
  geos(layerId: ID!): [Geo!]!
  cities: [City!]!
  getCity(url: String!): City
  getGoogleOAuthRedirect: AuthRedirect!
}

type User {
  _id: ID!
  email: String!
  name: UserName!
  role: UserType!
  photos: [UserPhoto!]!
  social: UserSocial!
}

type UserName {
  familyName: String!
  givenName: String!
}

type UserPhoto {
  url: String!
}

type UserSocial {
  googleProvider: GoogleProvider!
}

enum UserType {
  user
  researcher
  admin
}
